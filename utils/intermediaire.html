<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Intermediate</title>
<script>
document.addEventListener('DOMContentLoaded', function () {
    var params = new URLSearchParams(window.location.search);
    var repo = params.get('repo');
    var page = params.get('page');
    
    if (repo && page) {
        var baseGithubUrl = 'https://github.com/';
        var blob = 'blob/master/';
        var urlParam = baseGithubUrl + repo + '/' + blob + page;
        
        params.delete('repo'); // On enlève le paramètre repo
        params.delete('page'); // On enlève le paramètre page

        var iframeSrc = 'http://htmlpreview.github.io/?' + urlParam;
        
        if([...params].length) {
            iframeSrc += '?' + params.toString();
        }

        var iframe = document.createElement('iframe');
        iframe.src = iframeSrc;
        iframe.width = '100%';
        iframe.height = '100%';
        document.body.appendChild(iframe);
    } else {
        console.error('Missing repo or page parameter');
    }
});
</script>
</head>
<body style="margin:0; padding:0; overflow:hidden;">
</body>
</html>
